<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>6.6 Indexing in Pandas - Coding for Data - 2019 edition</title>
<meta name="description" content="Way back in the introduction to data frames, we covered indexing into data frames withBoolean vectors, such as Pandas Series or Numpy arrays, and indexing into data frames with column names.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_UK">
<meta property="og:site_name" content="Coding for Data - 2019 edition">
<meta property="og:title" content="6.6 Indexing in Pandas">
<meta property="og:url" content="https://matthew-brett.github.io/cfd2019/chapters/07/pandas_indexing">


  <meta property="og:description" content="Way back in the introduction to data frames, we covered indexing into data frames withBoolean vectors, such as Pandas Series or Numpy arrays, and indexing into data frames with column names.">







  <meta property="article:published_time" content="2020-01-18T18:03:35+00:00">





  

  


<link rel="canonical" href="https://matthew-brett.github.io/cfd2019/chapters/07/pandas_indexing">







  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Matthew Brett",
      "url": "https://matthew-brett.github.io/cfd2019",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/cfd2019/feed.xml" type="application/atom+xml" rel="alternate" title="Coding for Data - 2019 edition Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/cfd2019/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->


<!-- end custom head snippets -->

    <link rel="stylesheet" href="/cfd2019/assets/css/notebook-markdown.css">
    <link rel="stylesheet" href="/cfd2019/assets/css/custom.css">
    <link rel="shortcut icon" type="image/png" href="/cfd2019/favicon.png">
    <script src="https://cdn.jsdelivr.net/npm/clipboard@1/dist/clipboard.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js"></script>
  </head>

  <body class="layout--textbook">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

    <div class="initial-content">
      



<div id="main" class="textbook" role="main">
  <div id="textbook_wrapper">
    
  <div class="sidebar sticky textbook">
  
  
    <img src="/cfd2019/images/dsfe_logo.png" class="textbook_logo" />
    

    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          
          

          <a href="/cfd2019/"><span class="nav__sub-title">Home</span></a>
        

        
      </li>
    
      <li>
        
          
          

          <a href="/cfd2019/chapters/01/intro"><span class="nav__sub-title">1. Coding for data</span></a>
        

        
        <ul>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/01/what-is-data-science" class="level_1">1.1 What is data science?</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/01/why-data-science" class="level_1">1.2 Why data science?</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/01/tools_techniques" class="level_1">1.3 Tools and techniques</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/01/computational-tools" class="level_2">1.3.1 Computational tools</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/01/statistical-techniques" class="level_2">1.3.2 Statistical techniques</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/01/Plotting_the_Classics" class="level_1">1.4 Plotting the classics</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/01/Literary_Characters" class="level_2">1.4.1 Literary characters</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/01/Another_Kind_Of_Character" class="level_2">1.4.2 Another kind of character</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/01/surviving_computers" class="level_1">1.5 Surviving the computer</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/01/the_software" class="level_1">1.6 About the software</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/01/using_jupyter" class="level_1">1.7 Using the Jupyter notebook</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/01/more_on_jupyter" class="level_1">1.8 More on the Jupyter notebook</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          
          

          <a href="/cfd2019/chapters/02/to_code"><span class="nav__sub-title">2. Programming</span></a>
        

        
        <ul>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/02/sampling_problem" class="level_1">2.1 A sampling problem</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/02/three_girls" class="level_1">2.2 A simpler problem</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/02/variables_intro" class="level_1">2.3 Introduction to variables</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/02/functions" class="level_1">2.4 Introduction to functions</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/02/first_pass_three_girls" class="level_1">2.5 A first pass</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/02/Expressions" class="level_1">2.6 Expressions</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/02/Calls" class="level_1">2.7 Call expressions</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/02/sub_expressions" class="level_1">2.8 Sub-expressions</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/02/Names" class="level_1">2.9 Names and variables</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          
          

          <a href="/cfd2019/chapters/03/data_types"><span class="nav__sub-title">3. Data types</span></a>
        

        
        <ul>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/03/Numbers" class="level_1">3.1 Numbers</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/03/Strings" class="level_1">3.2 Strings</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/03/String_Methods" class="level_2">3.2.1 String methods</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/03/Comparison" class="level_1">3.3 Comparison</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/03/lists" class="level_1">3.4 Lists</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/03/Arrays" class="level_1">3.5 Arrays</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/03/Ranges" class="level_1">3.6 Ranges</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/03/numpy_append" class="level_1">3.7 Append</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/03/function_arguments" class="level_1">3.8 Function arguments</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/03/leaping_ahead" class="level_1">3.9 Leaping ahead</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/03/iteration" class="level_1">3.10 Iteration with For loops</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/03/indentation" class="level_1">3.11 Indentation, indentation</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/03/reply_supreme" class="level_1">3.12 Reply to the Supreme Court</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/03/More_on_Arrays" class="level_1">3.13 More on arrays</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/03/array_indexing" class="level_1">3.14 Selecting in arrays</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/03/filling_arrays" class="level_1">3.15 Filling arrays</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          
          

          <a href="/cfd2019/chapters/04/data_frames"><span class="nav__sub-title">4. Data frames</span></a>
        

        
        <ul>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/04/data_frame_intro" class="level_1">4.1 Introduction to data frames</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/04/df_series_arrays" class="level_1">4.2 Data frames, Series and arrays</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          
          

          <a href="/cfd2019/chapters/05/permutation"><span class="nav__sub-title">5. Permutations</span></a>
        

        
        <ul>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/05/population_permutation" class="level_1">5.1 Population and permutation</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/05/brexit_ages" class="level_1">5.2 A permutation test</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/05/permutation_idea" class="level_1">5.3 The permutation idea</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          
          

          <a href="/cfd2019/chapters/07/more_building_blocks"><span class="nav__sub-title">6. More building blocks</span></a>
        

        
        <ul>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/07/introducing_functions" class="level_1">6.1 Introduction to functions</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/07/none" class="level_1">6.2 On None</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/07/functions" class="level_1">6.3 Functions in more detail</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/07/functions_as_values" class="level_1">6.4 Functions as values</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/07/conditional_statements" class="level_1">6.5 Conditional statements</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/07/pandas_indexing" class="level_1">6.6 Indexing in Pandas</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/07/noble_politics" class="level_1">6.7 Example: noble politics</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          
          

          <a href="/cfd2019/chapters/08/mean"><span class="nav__sub-title">7. The mean and straight line relationships</span></a>
        

        
        <ul>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/08/mean_meaning" class="level_1">7.1 The mean as a predictor</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/08/where_and_argmin" class="level_1">7.2 Where and argmin</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/08/mean_and_slopes" class="level_1">7.3 Mean and slopes</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/08/optimization" class="level_1">7.4 Optimization</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/08/finding_lines" class="level_1">7.5 Finding lines</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/08/inference_on_slopes" class="level_1">7.6 Believable slopes</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          
          

          <a href="/cfd2019/chapters/09/classification"><span class="nav__sub-title">8. Classification</span></a>
        

        
        <ul>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/09/standard_scores" class="level_1">8.1 Standard scores</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/09/Nearest_Neighbors" class="level_1">8.2 Nearest neighbors</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/09/Training_and_Testing" class="level_1">8.3 Training and testing</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/09/Rows_of_Tables" class="level_1">8.4 Rows of tables</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/09/Implementing_the_Classifier" class="level_1">8.5 Implementing the classifier</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/09/Accuracy_of_the_Classifier" class="level_1">8.6 Accuracy of the classifier</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          
          

          <a href="/cfd2019/chapters/10/end_of_beginning"><span class="nav__sub-title">9. The end of the beginning</span></a>
        

        
      </li>
    
      <li>
        
          
          

          <a href="/cfd2019/chapters/exercises/exercises"><span class="nav__sub-title">Exercises</span></a>
        

        
        <ul>
          
        </ul>
        
      </li>
    
      <li>
        
          
          

          <a href="/cfd2019/chapters/extra/extra"><span class="nav__sub-title">Extra pages</span></a>
        

        
        <ul>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/extra/more_on_lists" class="level_1">More on lists</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/extra/monty_hall_lists" class="level_1">Monty Hall with lists</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/extra/data8_functions" class="level_1">Berkeley introduction to functions</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/extra/mean_deviations" class="level_1">Deviations around the mean</a></li>
          
            
            

            
            

            

            <li><a href="/cfd2019/chapters/extra/mean_sq_deviations" class="level_1">Squared deviations around the mean</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    

  
  </div>


    <article class="page textbook" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="headline" content="6.6 Indexing in Pandas">
      <meta itemprop="description" content="Way back in the introduction to data frames, we covered indexing into data frames withBoolean vectors, such as Pandas Series or Numpy arrays, and indexing into data frames with column names.">
      <meta itemprop="datePublished" content="January 18, 2020">
      

      <div class="page__inner-wrap">
        
          <header>
            <h1 id="page-title" class="page__title" itemprop="headline">6.6 Indexing in Pandas
</h1>
          </header>
        

        <section class="page__content" itemprop="text">
          
            

<!-- TOC will only show up if it has at least one item -->


  <aside class="sidebar__right">
    <nav class="toc">
      <header><h4 class="nav__title"><i class="fas fa-list-ul"></i>   On this page</h4></header>
      <ul class="toc__menu">
  <li><a href="#the-index">The index</a></li>
  <li><a href="#loc-and-iloc-indexing-work-on-columns-too">Loc and iloc indexing work on columns too</a></li>
  <li><a href="#series-have-an-index-too">Series have an index too</a></li>
  <li><a href="#rows-from-data-frames-are-series">Rows from data frames are Series</a></li>
  <li><a href="#you-can-index-without-loc-and-iloc-but-please-dont-except-">You can index without loc and iloc, but please don’t, except …</a></li>
  <li><a href="#you-can-use-boolean-indexing-with-loc">You can use Boolean indexing with loc</a></li>
</ul>
    </nav>
  </aside>


          
          <!-- INTERACT LINKS -->

    
    
    <a class="notebook-link" href="https://matthew-brett.github.io/cfd2019/ipynb/07/pandas_indexing.ipynb">Download notebook</a>
    <a class="interact-button" href="https://mybinder.org/v2/gh/matthew-brett/cfd2019/master?filepath=ipynb%2F07%2Fpandas_indexing.ipynb">Interact</a>


          <p>Way back in the <a href="/cfd2019/chapters/03/data_frame_intro">introduction to data frames</a>, we covered indexing into data frames with
<em>Boolean vectors</em>, such as Pandas Series or Numpy arrays, and indexing into data frames with column names.</p>

<p>This page covers more sophisticated indexing in Pandas.</p>

<p>To understand this indexing, we first need to cover the <em>index</em> of data frames
and Series.</p>

<p>We start with our usual imports:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Load the Numpy library, rename to "np"
</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="c1"># Load the Pandas data science library, rename to "pd"
</span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
</code></pre></div></div>

<h2 id="the-index">The index</h2>

<p>We return to our first data frame, containing statistics on development and
gender from the World Bank.</p>

<p>This is the <a href="/cfd2019/data/gender_stats.csv">gender_stats.csv</a> file.
See <a href="https://github.com/matthew-brett/datasets/tree/master/gender_stats">the gender stats data
page</a> for
some more detail.</p>

<p>Download that file to the same directory as this notebook, if you are running
on your own computer.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Load the data file as a data frame.
</span><span class="n">gender_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'gender_stats.csv'</span><span class="p">)</span>

<span class="c1"># Show the first 10 rows
</span><span class="n">gender_data</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div></div>

<div>
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_name</th>
      <th>country_code</th>
      <th>fert_rate</th>
      <th>gdp_us_billion</th>
      <th>health_exp_per_cap</th>
      <th>health_exp_pub</th>
      <th>prim_ed_girls</th>
      <th>mat_mort_ratio</th>
      <th>population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Aruba</td>
      <td>ABW</td>
      <td>1.66325</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>48.721939</td>
      <td>NaN</td>
      <td>0.103744</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Afghanistan</td>
      <td>AFG</td>
      <td>4.95450</td>
      <td>19.961015</td>
      <td>161.138034</td>
      <td>2.834598</td>
      <td>40.109708</td>
      <td>444.00</td>
      <td>32.715838</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Angola</td>
      <td>AGO</td>
      <td>6.12300</td>
      <td>111.936542</td>
      <td>254.747970</td>
      <td>2.447546</td>
      <td>NaN</td>
      <td>501.25</td>
      <td>26.937545</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Albania</td>
      <td>ALB</td>
      <td>1.76925</td>
      <td>12.327586</td>
      <td>574.202694</td>
      <td>2.836021</td>
      <td>47.201082</td>
      <td>29.25</td>
      <td>2.888280</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Andorra</td>
      <td>AND</td>
      <td>NaN</td>
      <td>3.197538</td>
      <td>4421.224933</td>
      <td>7.260281</td>
      <td>47.123345</td>
      <td>NaN</td>
      <td>0.079547</td>
    </tr>
    <tr>
      <th>5</th>
      <td>United Arab Emirates</td>
      <td>ARE</td>
      <td>1.79300</td>
      <td>375.027082</td>
      <td>2202.407569</td>
      <td>2.581168</td>
      <td>48.789260</td>
      <td>6.00</td>
      <td>9.080299</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Argentina</td>
      <td>ARG</td>
      <td>2.32800</td>
      <td>550.980968</td>
      <td>1148.256142</td>
      <td>2.782216</td>
      <td>48.915810</td>
      <td>53.75</td>
      <td>42.976675</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Armenia</td>
      <td>ARM</td>
      <td>1.54550</td>
      <td>10.885362</td>
      <td>348.663884</td>
      <td>1.916016</td>
      <td>46.782180</td>
      <td>27.25</td>
      <td>2.904683</td>
    </tr>
    <tr>
      <th>8</th>
      <td>American Samoa</td>
      <td>ASM</td>
      <td>NaN</td>
      <td>0.640500</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.055422</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Antigua and Barbuda</td>
      <td>ATG</td>
      <td>2.08200</td>
      <td>1.298213</td>
      <td>1152.493656</td>
      <td>3.676514</td>
      <td>48.291463</td>
      <td>NaN</td>
      <td>0.098872</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<p>As you know, the names at the top, in <strong>bold typeface</strong>, are the names of the
columns.  We can see these names using the <code class="highlighter-rouge">columns</code> attribute of the data
frame:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gender_data</span><span class="o">.</span><span class="n">columns</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Index(['country_name', 'country_code', 'fert_rate', 'gdp_us_billion',
       'health_exp_per_cap', 'health_exp_pub', 'prim_ed_girls',
       'mat_mort_ratio', 'population'],
      dtype='object')
</code></pre></div></div>

<p>These can also be called the <em>column labels</em>.</p>

<p>We have not paid attention so far to the numbers at the left of the table
display, also in bold typeface.</p>

<p>In this case, they are ascending integers, starting at 0, with value 0 for the
first row, 1 for the second row, and so on.</p>

<p>These numbers are the <em>index</em> of the data frame.  The index contains the <em>row
labels</em>.</p>

<p>We can see the row labels / index with the <code class="highlighter-rouge">index</code> attribute of the data frame.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gender_data</span><span class="o">.</span><span class="n">index</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RangeIndex(start=0, stop=216, step=1)
</code></pre></div></div>

<p>This is saying we have a simple index, that is like a <code class="highlighter-rouge">np.arange</code>, starting at
0, and continuing in steps of 1 up to, but not including 216.</p>

<p>So far, the index looks like row numbers, with 0 for the first row, 1 for the
second row.  We will soon see that the index is more than that.</p>

<p>For example, let us look at the last 15 rows.  We can get these with the <code class="highlighter-rouge">tail</code>
method of the data frame.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">last_15</span> <span class="o">=</span> <span class="n">gender_data</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="n">last_15</span>
</code></pre></div></div>

<div>
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_name</th>
      <th>country_code</th>
      <th>fert_rate</th>
      <th>gdp_us_billion</th>
      <th>health_exp_per_cap</th>
      <th>health_exp_pub</th>
      <th>prim_ed_girls</th>
      <th>mat_mort_ratio</th>
      <th>population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>201</th>
      <td>Uruguay</td>
      <td>URY</td>
      <td>2.027000</td>
      <td>54.345132</td>
      <td>1721.507752</td>
      <td>6.044403</td>
      <td>48.295555</td>
      <td>15.50</td>
      <td>3.419977</td>
    </tr>
    <tr>
      <th>202</th>
      <td>United States</td>
      <td>USA</td>
      <td>1.860875</td>
      <td>17369.124600</td>
      <td>9060.068657</td>
      <td>8.121961</td>
      <td>48.758830</td>
      <td>14.00</td>
      <td>318.558175</td>
    </tr>
    <tr>
      <th>203</th>
      <td>Uzbekistan</td>
      <td>UZB</td>
      <td>2.372750</td>
      <td>61.340649</td>
      <td>334.476754</td>
      <td>3.118842</td>
      <td>48.387434</td>
      <td>37.00</td>
      <td>30.784500</td>
    </tr>
    <tr>
      <th>204</th>
      <td>St. Vincent and the Grenadines</td>
      <td>VCT</td>
      <td>1.986000</td>
      <td>0.730107</td>
      <td>775.803386</td>
      <td>4.365757</td>
      <td>48.536415</td>
      <td>45.75</td>
      <td>0.109421</td>
    </tr>
    <tr>
      <th>205</th>
      <td>Venezuela, RB</td>
      <td>VEN</td>
      <td>2.378250</td>
      <td>376.146268</td>
      <td>896.815314</td>
      <td>1.587088</td>
      <td>48.400934</td>
      <td>97.00</td>
      <td>30.734524</td>
    </tr>
    <tr>
      <th>206</th>
      <td>British Virgin Islands</td>
      <td>VGB</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>47.581520</td>
      <td>NaN</td>
      <td>0.029585</td>
    </tr>
    <tr>
      <th>207</th>
      <td>Virgin Islands (U.S.)</td>
      <td>VIR</td>
      <td>1.760000</td>
      <td>3.812000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.104141</td>
    </tr>
    <tr>
      <th>208</th>
      <td>Vietnam</td>
      <td>VNM</td>
      <td>1.959500</td>
      <td>181.820736</td>
      <td>368.374550</td>
      <td>3.779501</td>
      <td>48.021053</td>
      <td>54.75</td>
      <td>90.742400</td>
    </tr>
    <tr>
      <th>209</th>
      <td>Vanuatu</td>
      <td>VUT</td>
      <td>3.364750</td>
      <td>0.782876</td>
      <td>125.568712</td>
      <td>3.689874</td>
      <td>47.301617</td>
      <td>82.50</td>
      <td>0.258896</td>
    </tr>
    <tr>
      <th>210</th>
      <td>Samoa</td>
      <td>WSM</td>
      <td>4.118250</td>
      <td>0.799887</td>
      <td>366.353096</td>
      <td>5.697059</td>
      <td>48.350049</td>
      <td>54.75</td>
      <td>0.192225</td>
    </tr>
    <tr>
      <th>211</th>
      <td>Kosovo</td>
      <td>XKX</td>
      <td>2.142500</td>
      <td>6.804620</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.813820</td>
    </tr>
    <tr>
      <th>212</th>
      <td>Yemen, Rep.</td>
      <td>YEM</td>
      <td>4.225750</td>
      <td>36.819337</td>
      <td>207.949700</td>
      <td>1.417836</td>
      <td>44.470076</td>
      <td>399.75</td>
      <td>26.246608</td>
    </tr>
    <tr>
      <th>213</th>
      <td>South Africa</td>
      <td>ZAF</td>
      <td>2.375250</td>
      <td>345.209888</td>
      <td>1123.142656</td>
      <td>4.241441</td>
      <td>48.516298</td>
      <td>143.75</td>
      <td>54.177209</td>
    </tr>
    <tr>
      <th>214</th>
      <td>Zambia</td>
      <td>ZMB</td>
      <td>5.394250</td>
      <td>24.280990</td>
      <td>185.556359</td>
      <td>2.687290</td>
      <td>49.934484</td>
      <td>233.75</td>
      <td>15.633220</td>
    </tr>
    <tr>
      <th>215</th>
      <td>Zimbabwe</td>
      <td>ZWE</td>
      <td>3.943000</td>
      <td>15.495514</td>
      <td>115.519881</td>
      <td>2.695188</td>
      <td>49.529875</td>
      <td>398.00</td>
      <td>15.420964</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<p>Here is the <code class="highlighter-rouge">index</code> of this new data frame.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">last_15</span><span class="o">.</span><span class="n">index</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RangeIndex(start=201, stop=216, step=1)
</code></pre></div></div>

<p>Notice that the first row of this new data frame no longer has the label 0 - it
has label 201.  These numbers are the labels from the original data frame, from
which we selected the rows.</p>

<p>Notice too that the second row in this table is the USA, and it has the label
\202.</p>

<p>Now imagine that I sort the original data frame by Gross Domestic Product, and
select the top 15 rows.  By doing this, I select the top 15 richest countries.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Sort by GDP.
</span><span class="n">df_by_gdp</span> <span class="o">=</span> <span class="n">gender_data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s">'gdp_us_billion'</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="c1"># Take the top 15 rows.
</span><span class="n">richest_15</span> <span class="o">=</span> <span class="n">df_by_gdp</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="n">richest_15</span>
</code></pre></div></div>

<div>
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_name</th>
      <th>country_code</th>
      <th>fert_rate</th>
      <th>gdp_us_billion</th>
      <th>health_exp_per_cap</th>
      <th>health_exp_pub</th>
      <th>prim_ed_girls</th>
      <th>mat_mort_ratio</th>
      <th>population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>202</th>
      <td>United States</td>
      <td>USA</td>
      <td>1.860875</td>
      <td>17369.124600</td>
      <td>9060.068657</td>
      <td>8.121961</td>
      <td>48.758830</td>
      <td>14.00</td>
      <td>318.558175</td>
    </tr>
    <tr>
      <th>35</th>
      <td>China</td>
      <td>CHN</td>
      <td>1.558750</td>
      <td>10182.790479</td>
      <td>657.748859</td>
      <td>3.015530</td>
      <td>46.297964</td>
      <td>28.75</td>
      <td>1364.446000</td>
    </tr>
    <tr>
      <th>97</th>
      <td>Japan</td>
      <td>JPN</td>
      <td>1.430000</td>
      <td>5106.024760</td>
      <td>3687.126279</td>
      <td>8.496074</td>
      <td>48.744199</td>
      <td>5.75</td>
      <td>127.297102</td>
    </tr>
    <tr>
      <th>49</th>
      <td>Germany</td>
      <td>DEU</td>
      <td>1.450000</td>
      <td>3601.226158</td>
      <td>4909.659884</td>
      <td>8.542615</td>
      <td>48.568695</td>
      <td>6.25</td>
      <td>81.281645</td>
    </tr>
    <tr>
      <th>67</th>
      <td>United Kingdom</td>
      <td>GBR</td>
      <td>1.842500</td>
      <td>2768.864417</td>
      <td>3357.983675</td>
      <td>7.720655</td>
      <td>48.791809</td>
      <td>9.25</td>
      <td>64.641557</td>
    </tr>
    <tr>
      <th>63</th>
      <td>France</td>
      <td>FRA</td>
      <td>2.005000</td>
      <td>2647.649725</td>
      <td>4387.835406</td>
      <td>8.920420</td>
      <td>48.772050</td>
      <td>8.75</td>
      <td>66.302099</td>
    </tr>
    <tr>
      <th>26</th>
      <td>Brazil</td>
      <td>BRA</td>
      <td>1.795250</td>
      <td>2198.765606</td>
      <td>1303.199104</td>
      <td>3.773473</td>
      <td>47.784577</td>
      <td>49.50</td>
      <td>204.159544</td>
    </tr>
    <tr>
      <th>88</th>
      <td>India</td>
      <td>IND</td>
      <td>2.449250</td>
      <td>2019.005411</td>
      <td>241.572477</td>
      <td>1.292666</td>
      <td>49.497234</td>
      <td>185.25</td>
      <td>1293.742537</td>
    </tr>
    <tr>
      <th>94</th>
      <td>Italy</td>
      <td>ITA</td>
      <td>1.390000</td>
      <td>2005.983980</td>
      <td>3266.984094</td>
      <td>6.984374</td>
      <td>48.407573</td>
      <td>4.00</td>
      <td>60.378795</td>
    </tr>
    <tr>
      <th>164</th>
      <td>Russian Federation</td>
      <td>RUS</td>
      <td>1.724500</td>
      <td>1822.691700</td>
      <td>1755.506635</td>
      <td>3.731354</td>
      <td>48.968070</td>
      <td>25.25</td>
      <td>143.793504</td>
    </tr>
    <tr>
      <th>32</th>
      <td>Canada</td>
      <td>CAN</td>
      <td>1.600300</td>
      <td>1708.473627</td>
      <td>4616.539134</td>
      <td>7.546247</td>
      <td>48.808926</td>
      <td>7.25</td>
      <td>35.517119</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Australia</td>
      <td>AUS</td>
      <td>1.861500</td>
      <td>1422.994116</td>
      <td>4256.058988</td>
      <td>6.292381</td>
      <td>48.576707</td>
      <td>6.00</td>
      <td>23.444560</td>
    </tr>
    <tr>
      <th>104</th>
      <td>Korea, Rep.</td>
      <td>KOR</td>
      <td>1.232000</td>
      <td>1346.751162</td>
      <td>2385.447251</td>
      <td>3.915606</td>
      <td>48.023388</td>
      <td>12.00</td>
      <td>50.727212</td>
    </tr>
    <tr>
      <th>58</th>
      <td>Spain</td>
      <td>ESP</td>
      <td>1.307500</td>
      <td>1299.724261</td>
      <td>2963.832825</td>
      <td>6.545739</td>
      <td>48.722231</td>
      <td>5.00</td>
      <td>46.553128</td>
    </tr>
    <tr>
      <th>124</th>
      <td>Mexico</td>
      <td>MEX</td>
      <td>2.257000</td>
      <td>1188.802780</td>
      <td>1081.208948</td>
      <td>3.225839</td>
      <td>48.906296</td>
      <td>40.00</td>
      <td>124.203450</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<p>Now notice that the index values have followed their respective rows.  The row
for the USA is now first, but it has kept its original index value (row label)
- 202.  The index value <em>identifies</em> the row.</p>

<p>Here is the index for this small table:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">richest_15</span><span class="o">.</span><span class="n">index</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Int64Index([202, 35, 97, 49, 67, 63, 26, 88, 94, 164, 32, 10, 104, 58, 124], dtype='int64')
</code></pre></div></div>

<p>Now let us say that I wanted to get the eleventh row of this table.</p>

<p>I would be tempted to do something like <code class="highlighter-rouge">richest_15[10]</code> - but then - what
would Pandas give me?   Does <code class="highlighter-rouge">10</code> mean the row label for “Australia”?  Or does
it mean the eleventh row of the table, as it would for an array, and therefore
the row for “Canada”?  That is, will the indexing using the <em>labels</em> (index
values)?  Or will it use the positions (as for indexing in Numpy arrays)?</p>

<p>The answer is, it is ambiguous, and when things are ambiguous, Pandas has to
guess.   That’s a bad idea, because then we have to guess what Pandas has
guessed, and it is starting to get really confusing.</p>

<p>For that reason, we careful Pandas users do not index rows with code like
<code class="highlighter-rouge">richest_15[10]</code>.  When we are not using Booleans to select rows, we always use
one of the two indexing attributes that Pandas provides.  Each does a different
type of indexing.</p>

<ul>
  <li>The <code class="highlighter-rouge">loc</code> (label locate) attribute indexes using the <em>labels</em> (row index).</li>
  <li>The <code class="highlighter-rouge">iloc</code> (position locate) attribute indexes using the positions.</li>
</ul>

<p>Here they are in action:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Get the row with label 10
</span><span class="n">richest_15</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>country_name          Australia
country_code                AUS
fert_rate                1.8615
gdp_us_billion          1422.99
health_exp_per_cap      4256.06
health_exp_pub          6.29238
prim_ed_girls           48.5767
mat_mort_ratio                6
population              23.4446
Name: 10, dtype: object
</code></pre></div></div>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Get the row at position / offset 10
</span><span class="n">richest_15</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>country_name           Canada
country_code              CAN
fert_rate              1.6003
gdp_us_billion        1708.47
health_exp_per_cap    4616.54
health_exp_pub        7.54625
prim_ed_girls         48.8089
mat_mort_ratio           7.25
population            35.5171
Name: 32, dtype: object
</code></pre></div></div>

<p>In more details, what is happening in the first cell above is that
<code class="highlighter-rouge">richest_15.loc</code> gives us a special value (AKA <em>object</em>) that:</p>

<ul>
  <li>knows about the <code class="highlighter-rouge">richest_15</code> data frame;</li>
  <li>will give us rows and columns, if we use <code class="highlighter-rouge">[ something ]</code> on it.</li>
</ul>

<p>So, read <code class="highlighter-rouge">richest_15.loc[10]</code> as:</p>

<ul>
  <li>Get the <code class="highlighter-rouge">richest_15</code> value (the data frame);</li>
  <li>Get the <code class="highlighter-rouge">loc</code> attribute of this data frame. This evaluates to a special
object (value) that can give us rows and columns from the data frame, by
looking at labels;</li>
  <li>Use this object to fetch the row labeled 10, by using indexing (<code class="highlighter-rouge">[10]</code>)</li>
</ul>

<p>Likewise, read <code class="highlighter-rouge">richest_15.iloc[10]</code> as:</p>

<ul>
  <li>Get the <code class="highlighter-rouge">richest_15</code> value (the data frame);</li>
  <li>Get the <code class="highlighter-rouge">iloc</code> attribute of this data frame. This evaluates to a special
object (value) that can give us rows and columns from the data frame, by
looking at positions (offsets);</li>
  <li>Use this object to fetch the row at offset 10, by using indexing (<code class="highlighter-rouge">[10]</code>).</li>
</ul>

<p>When you select rows and columns from a data frame, consider carefully what you
want.</p>

<p>Do you want to select rows and columns by <em>label</em> (by <em>index</em>, in the rows).
Then you want <code class="highlighter-rouge">.loc</code>.</p>

<p>Do you want to select rows and columns by <em>position</em> (offset).  Then you want
<code class="highlighter-rouge">.iloc</code>.</p>

<h2 id="loc-and-iloc-indexing-work-on-columns-too">Loc and iloc indexing work on columns too</h2>

<p>Consider this.  We use <code class="highlighter-rouge">.loc</code> and the label for the <em>row</em>, followed by the
label for the <em>column</em>.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">richest_15</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="s">'gdp_us_billion'</span><span class="p">]</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1422.994116449394
</code></pre></div></div>

<p>This selects the row <em>labeled</em> 10 (the USA row) and returns the value from the
<code class="highlighter-rouge">gdp_us_billion</code> column.</p>

<p>Conversely, <code class="highlighter-rouge">iloc</code> only understands positions, and so, integers.  It does not
understand or use labels:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># We can't specify columns by label, using iloc.
</span><span class="n">richest_15</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="s">'gdp_us_billion'</span><span class="p">]</span>
</code></pre></div></div>

<div class="output_traceback_line highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---------------------------------------------------------------------------
</code></pre></div></div>

<div class="output_traceback_line highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ValueError                                Traceback (most recent call last)
</code></pre></div></div>

<div class="output_traceback_line highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/Library/Python/3.7/lib/python/site-packages/pandas/core/indexing.py in _has_valid_tuple(self, key)
    222             try:
--&gt; 223                 self._validate_key(k, i)
    224             except ValueError:

</code></pre></div></div>

<div class="output_traceback_line highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/Library/Python/3.7/lib/python/site-packages/pandas/core/indexing.py in _validate_key(self, key, axis)
   2083             raise ValueError("Can only index by location with "
-&gt; 2084                              "a [{types}]".format(types=self._valid_types))
   2085 

</code></pre></div></div>

<div class="output_traceback_line highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ValueError: Can only index by location with a [integer, integer slice (START point is INCLUDED, END point is EXCLUDED), listlike of integers, boolean array]
</code></pre></div></div>

<div class="output_traceback_line highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
During handling of the above exception, another exception occurred:

</code></pre></div></div>

<div class="output_traceback_line highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ValueError                                Traceback (most recent call last)
</code></pre></div></div>

<div class="output_traceback_line highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;ipython-input-12-3b068730429a&gt; in &lt;module&gt;
      1 # We can't specify columns by label, using iloc.
----&gt; 2 richest_15.iloc[10, 'gdp_us_billion']

</code></pre></div></div>

<div class="output_traceback_line highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/Library/Python/3.7/lib/python/site-packages/pandas/core/indexing.py in __getitem__(self, key)
   1492             except (KeyError, IndexError, AttributeError):
   1493                 pass
-&gt; 1494             return self._getitem_tuple(key)
   1495         else:
   1496             # we by definition only have the 0th axis

</code></pre></div></div>

<div class="output_traceback_line highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/Library/Python/3.7/lib/python/site-packages/pandas/core/indexing.py in _getitem_tuple(self, tup)
   2141     def _getitem_tuple(self, tup):
   2142 
-&gt; 2143         self._has_valid_tuple(tup)
   2144         try:
   2145             return self._getitem_lowerdim(tup)

</code></pre></div></div>

<div class="output_traceback_line highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/Library/Python/3.7/lib/python/site-packages/pandas/core/indexing.py in _has_valid_tuple(self, key)
    225                 raise ValueError("Location based indexing can only have "
    226                                  "[{types}] types"
--&gt; 227                                  .format(types=self._valid_types))
    228 
    229     def _is_nested_tuple_indexer(self, tup):

</code></pre></div></div>

<div class="output_traceback_line highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ValueError: Location based indexing can only have [integer, integer slice (START point is INCLUDED, END point is EXCLUDED), listlike of integers, boolean array] types
</code></pre></div></div>

<p>Notice the somewhat informative error right at the bottom of the error message.</p>

<p><code class="highlighter-rouge">iloc</code> can get columns by their position.  For example, <code class="highlighter-rouge">fertility_rate</code> is the
third column, and so we can get the fertility rate by asking <code class="highlighter-rouge">iloc</code> for the
eleventh row, third column, like so:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">richest_15</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1.6002999999999998
</code></pre></div></div>

<p>This is the value from the row at offset 10 and the column at offset 2.</p>

<h2 id="series-have-an-index-too">Series have an index too</h2>

<p>Data frames have columns (and column labels), and rows (with row labels — the
index).</p>

<p>Series also have element labels — they also have an index.</p>

<p>Consider this column, of the fertility rates of the richest countries:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Get the fert_rate column from the data frame
</span><span class="n">rich_ferts</span> <span class="o">=</span> <span class="n">richest_15</span><span class="p">[</span><span class="s">'fert_rate'</span><span class="p">]</span>
<span class="n">rich_ferts</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>202    1.860875
35     1.558750
97     1.430000
49     1.450000
67     1.842500
Name: fert_rate, dtype: float64
</code></pre></div></div>

<p>As y’all know, this is a Series:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">type</span><span class="p">(</span><span class="n">rich_ferts</span><span class="p">)</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pandas.core.series.Series
</code></pre></div></div>

<p>You probably also spotted the numbers to the left of the values.  Yes, the row
labels have come across from the data frame into the Series.  We can see that
the first element has row label 202, and we remember that this is the row label
(index value) for the USA.</p>

<p>As for the data frames, here is the index for the series:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rich_ferts</span><span class="o">.</span><span class="n">index</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Int64Index([202, 35, 97, 49, 67, 63, 26, 88, 94, 164, 32, 10, 104, 58, 124], dtype='int64')
</code></pre></div></div>

<p>Like data frames, we can index by label, with <code class="highlighter-rouge">loc</code>, and by position, with
<code class="highlighter-rouge">iloc</code>:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># The value for row labeled 10 - Australia.
</span><span class="n">rich_ferts</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1.8615
</code></pre></div></div>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># The value for the row at position 10 - Canada
</span><span class="n">rich_ferts</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1.6002999999999998
</code></pre></div></div>

<h2 id="rows-from-data-frames-are-series">Rows from data frames are Series</h2>

<p>Here we select the row at position 0 (the first row):</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">first_row</span> <span class="o">=</span> <span class="n">richest_15</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">first_row</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>country_name          United States
country_code                    USA
fert_rate                   1.86088
gdp_us_billion              17369.1
health_exp_per_cap          9060.07
health_exp_pub              8.12196
prim_ed_girls               48.7588
mat_mort_ratio                   14
population                  318.558
Name: 202, dtype: object
</code></pre></div></div>

<p>This is a Series:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">type</span><span class="p">(</span><span class="n">first_row</span><span class="p">)</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pandas.core.series.Series
</code></pre></div></div>

<p>Notice that the Series has 9 elements, one for each column in the data frame.</p>

<p>As you remember, we can see the number of rows and columns in a data frame
with:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">richest_15</span><span class="o">.</span><span class="n">shape</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(15, 9)
</code></pre></div></div>

<p>Remember, the columns have names, which we can also call <em>labels</em>.</p>

<p>When we select a row out of a data frame, we have one element per column, and
the labels for the columns now become the labels for the rows.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">first_row</span><span class="o">.</span><span class="n">index</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Index(['country_name', 'country_code', 'fert_rate', 'gdp_us_billion',
       'health_exp_per_cap', 'health_exp_pub', 'prim_ed_girls',
       'mat_mort_ratio', 'population'],
      dtype='object')
</code></pre></div></div>

<p>As for any other Series, we can get elements by label, with <code class="highlighter-rouge">loc</code>:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">first_row</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s">'fert_rate'</span><span class="p">]</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1.860875
</code></pre></div></div>

<p>We can also get elements by position (offset), with <code class="highlighter-rouge">iloc</code>:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">first_row</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'United States'
</code></pre></div></div>

<h2 id="you-can-index-without-loc-and-iloc-but-please-dont-except-">You can index without loc and iloc, but please don’t, except …</h2>

<p>In the <a href="../04/data_frame_intro">data frame introduction</a>, you saw that we can
index into data frame directly, using <code class="highlighter-rouge">[ something ]</code> after the data frame
value, without using <code class="highlighter-rouge">loc</code> or <code class="highlighter-rouge">iloc</code>.  Call this <em>direct indexing</em>.  This is
a very reasonable thing to do if:</p>

<ul>
  <li>the <code class="highlighter-rouge">something</code> is a Boolean sequence.  This is not ambiguous.</li>
  <li>the <code class="highlighter-rouge">something</code> is a column name.  This isn’t ambiguous either.</li>
</ul>

<p>We used both types of direct indexing in the data frame introduction page.</p>

<p>For example, both of these are entirely reasonable uses of direct indexing:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Direct Boolean indexing:
# Select rows where 'health_exp_per_cap' is greater than 3000 dollars.
</span><span class="n">is_big_spender</span> <span class="o">=</span> <span class="n">richest_15</span><span class="p">[</span><span class="s">'health_exp_per_cap'</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">3000</span>  <span class="c1"># Boolean Series
</span><span class="n">big_health_spenders</span> <span class="o">=</span> <span class="n">richest_15</span><span class="p">[</span><span class="n">is_big_spender</span><span class="p">]</span>
<span class="n">big_health_spenders</span>
</code></pre></div></div>

<div>
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_name</th>
      <th>country_code</th>
      <th>fert_rate</th>
      <th>gdp_us_billion</th>
      <th>health_exp_per_cap</th>
      <th>health_exp_pub</th>
      <th>prim_ed_girls</th>
      <th>mat_mort_ratio</th>
      <th>population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>202</th>
      <td>United States</td>
      <td>USA</td>
      <td>1.860875</td>
      <td>17369.124600</td>
      <td>9060.068657</td>
      <td>8.121961</td>
      <td>48.758830</td>
      <td>14.00</td>
      <td>318.558175</td>
    </tr>
    <tr>
      <th>97</th>
      <td>Japan</td>
      <td>JPN</td>
      <td>1.430000</td>
      <td>5106.024760</td>
      <td>3687.126279</td>
      <td>8.496074</td>
      <td>48.744199</td>
      <td>5.75</td>
      <td>127.297102</td>
    </tr>
    <tr>
      <th>49</th>
      <td>Germany</td>
      <td>DEU</td>
      <td>1.450000</td>
      <td>3601.226158</td>
      <td>4909.659884</td>
      <td>8.542615</td>
      <td>48.568695</td>
      <td>6.25</td>
      <td>81.281645</td>
    </tr>
    <tr>
      <th>67</th>
      <td>United Kingdom</td>
      <td>GBR</td>
      <td>1.842500</td>
      <td>2768.864417</td>
      <td>3357.983675</td>
      <td>7.720655</td>
      <td>48.791809</td>
      <td>9.25</td>
      <td>64.641557</td>
    </tr>
    <tr>
      <th>63</th>
      <td>France</td>
      <td>FRA</td>
      <td>2.005000</td>
      <td>2647.649725</td>
      <td>4387.835406</td>
      <td>8.920420</td>
      <td>48.772050</td>
      <td>8.75</td>
      <td>66.302099</td>
    </tr>
    <tr>
      <th>94</th>
      <td>Italy</td>
      <td>ITA</td>
      <td>1.390000</td>
      <td>2005.983980</td>
      <td>3266.984094</td>
      <td>6.984374</td>
      <td>48.407573</td>
      <td>4.00</td>
      <td>60.378795</td>
    </tr>
    <tr>
      <th>32</th>
      <td>Canada</td>
      <td>CAN</td>
      <td>1.600300</td>
      <td>1708.473627</td>
      <td>4616.539134</td>
      <td>7.546247</td>
      <td>48.808926</td>
      <td>7.25</td>
      <td>35.517119</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Australia</td>
      <td>AUS</td>
      <td>1.861500</td>
      <td>1422.994116</td>
      <td>4256.058988</td>
      <td>6.292381</td>
      <td>48.576707</td>
      <td>6.00</td>
      <td>23.444560</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Direct indexing with column label:
# Select the 'country_code' column.
</span><span class="n">country_code</span> <span class="o">=</span> <span class="n">richest_15</span><span class="p">[</span><span class="s">'country_code'</span><span class="p">]</span>
<span class="n">country_code</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>202    USA
35     CHN
97     JPN
49     DEU
67     GBR
63     FRA
26     BRA
88     IND
94     ITA
164    RUS
32     CAN
10     AUS
104    KOR
58     ESP
124    MEX
Name: country_code, dtype: object
</code></pre></div></div>

<p>Those uses of direct indexing are entirely sensible.  Other uses of direct indexing are not sensible, and we strongly encourage you not to use them.</p>

<p>For example, Pandas will also allow you to this, with the Series we just made:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Nooooooo !
</span><span class="n">country_code</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'AUS'
</code></pre></div></div>

<p>Please don’t do that.  This is ambiguous.  Did you really mean the country with
label 10?  Or did you mean the country at position 10?   Pandas will guess for
you.  Don’t let it.  If you are not selecting rows / elements with Booleans,
always do this:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># By label
</span><span class="n">country_code</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'AUS'
</code></pre></div></div>

<p>or this:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># By position
</span><span class="n">country_code</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'CAN'
</code></pre></div></div>

<h2 id="you-can-use-boolean-indexing-with-loc">You can use Boolean indexing with loc</h2>

<p>It is often convenient to use direct indexing with Booleans, as we have just seen:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Create a Boolean series with True for big spender rows, False otherwise.
</span><span class="n">is_big_spender</span> <span class="o">=</span> <span class="n">richest_15</span><span class="p">[</span><span class="s">'health_exp_per_cap'</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">3000</span>
<span class="n">is_big_spender</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>202     True
35     False
97      True
49      True
67      True
63      True
26     False
88     False
94      True
164    False
32      True
10      True
104    False
58     False
124    False
Name: health_exp_per_cap, dtype: bool
</code></pre></div></div>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Direct Boolean indexing:
# Select rows where 'health_exp_per_cap' is greater than 3000 dollars.
</span><span class="n">big_health_spenders</span> <span class="o">=</span> <span class="n">richest_15</span><span class="p">[</span><span class="n">is_big_spender</span><span class="p">]</span>
<span class="n">big_health_spenders</span>
</code></pre></div></div>

<div>
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>country_name</th>
      <th>country_code</th>
      <th>fert_rate</th>
      <th>gdp_us_billion</th>
      <th>health_exp_per_cap</th>
      <th>health_exp_pub</th>
      <th>prim_ed_girls</th>
      <th>mat_mort_ratio</th>
      <th>population</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>202</th>
      <td>United States</td>
      <td>USA</td>
      <td>1.860875</td>
      <td>17369.124600</td>
      <td>9060.068657</td>
      <td>8.121961</td>
      <td>48.758830</td>
      <td>14.00</td>
      <td>318.558175</td>
    </tr>
    <tr>
      <th>97</th>
      <td>Japan</td>
      <td>JPN</td>
      <td>1.430000</td>
      <td>5106.024760</td>
      <td>3687.126279</td>
      <td>8.496074</td>
      <td>48.744199</td>
      <td>5.75</td>
      <td>127.297102</td>
    </tr>
    <tr>
      <th>49</th>
      <td>Germany</td>
      <td>DEU</td>
      <td>1.450000</td>
      <td>3601.226158</td>
      <td>4909.659884</td>
      <td>8.542615</td>
      <td>48.568695</td>
      <td>6.25</td>
      <td>81.281645</td>
    </tr>
    <tr>
      <th>67</th>
      <td>United Kingdom</td>
      <td>GBR</td>
      <td>1.842500</td>
      <td>2768.864417</td>
      <td>3357.983675</td>
      <td>7.720655</td>
      <td>48.791809</td>
      <td>9.25</td>
      <td>64.641557</td>
    </tr>
    <tr>
      <th>63</th>
      <td>France</td>
      <td>FRA</td>
      <td>2.005000</td>
      <td>2647.649725</td>
      <td>4387.835406</td>
      <td>8.920420</td>
      <td>48.772050</td>
      <td>8.75</td>
      <td>66.302099</td>
    </tr>
    <tr>
      <th>94</th>
      <td>Italy</td>
      <td>ITA</td>
      <td>1.390000</td>
      <td>2005.983980</td>
      <td>3266.984094</td>
      <td>6.984374</td>
      <td>48.407573</td>
      <td>4.00</td>
      <td>60.378795</td>
    </tr>
    <tr>
      <th>32</th>
      <td>Canada</td>
      <td>CAN</td>
      <td>1.600300</td>
      <td>1708.473627</td>
      <td>4616.539134</td>
      <td>7.546247</td>
      <td>48.808926</td>
      <td>7.25</td>
      <td>35.517119</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Australia</td>
      <td>AUS</td>
      <td>1.861500</td>
      <td>1422.994116</td>
      <td>4256.058988</td>
      <td>6.292381</td>
      <td>48.576707</td>
      <td>6.00</td>
      <td>23.444560</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<p>We can also use Booleans with <code class="highlighter-rouge">loc</code> indexing.  This allows us to do things such
as selecting rows with Booleans, and columns with labels, in one shot, like
this:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Boolean indexing for rows, with "loc"
# Get "country_name" column values for big health spenders:
</span><span class="n">big_spender_names</span> <span class="o">=</span> <span class="n">richest_15</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">is_big_spender</span><span class="p">,</span> <span class="s">'country_name'</span><span class="p">]</span>
<span class="n">big_spender_names</span>
</code></pre></div></div>

<div class="output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>202     United States
97              Japan
49            Germany
67     United Kingdom
63             France
94              Italy
32             Canada
10          Australia
Name: country_name, dtype: object
</code></pre></div></div>

<p>In fact you can use some Boolean sequences with <code class="highlighter-rouge">iloc</code> as well, but that needs
<a href="booleans_and_labels">a little more explanation</a>.</p>

          
        </section>

        <footer class="page__meta">
          
          


        </footer>

        

        
  <nav class="pagination">
    
      <a href="/cfd2019/chapters/07/conditional_statements" class="pagination--pager" title="6.5 Conditional statements
">Previous</a>
    
    
      <a href="/cfd2019/chapters/07/booleans_and_labels" class="pagination--pager" title="Booleans and labels
">Next</a>
    
  </nav>


      </div>

      
    </article>
  </div>
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><input type="text" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
    <div id="results" class="results"></div></div>
      </div>
    

    

    
  <script src="/cfd2019/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script>




<script src="/cfd2019/assets/js/lunr/lunr.min.js"></script>
<script src="/cfd2019/assets/js/lunr/lunr-store.js"></script>
<script src="/cfd2019/assets/js/lunr/lunr-en.js"></script>




    <!-- Custom scripts to load after site JS is loaded -->

    <!-- Custom HTML used for the textbooks -->
<!-- Configure, then load MathJax -->
<script type="text/javascript">
  window.MathJax = {
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true,
      processEnvironments: true
    }
  };
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full,Safe" type="text/javascript"></script>


<script type="text/javascript">
// --- To auto-embed hub URLs in interact links if given in a RESTful fashion ---
function getJsonFromUrl(url) {
  var query = url.split('?');
  if (query.length < 2) {
    // No queries so just return false
    return false;
  }
  query = query[1];
  // Collect REST params into a dictionary
  var result = {};
  query.split("&").forEach(function(part) {
    var item = part.split("=");
    result[item[0]] = decodeURIComponent(item[1]);
  });
  return result;
}

// Parse a Binder URL, converting it to the string needed for JupyterHub
function binder2Jupyterhub(url) {
  newUrl = {};
  parts = url.split('v2/gh/')[1];
  // Grab the base repo information
  repoinfo = parts.split('?')[0];
  var [org, repo, ref] = repoinfo.split('/');
  newUrl['repo'] = ['https://github.com', org, repo].join('/');
  newUrl['branch'] = ref
  // Grab extra parameters passed
  params = getJsonFromUrl(url);
  if (params['filepath'] !== undefined) {
    newUrl['subPath'] = params['filepath']
  }
  return jQuery.param(newUrl);
}

// Filter out potentially unsafe characters to prevent xss
function safeUrl(url)
{
   return String(encodeURIComponent(url))
            .replace(/&/g, '&amp;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#39;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;');
}

function addParamToInternalLinks(hub) {
  var links = $("a").each(function() {
    var href = this.href;
    // If the link is an internal link...
    if (href.search("https://matthew-brett.github.io") !== -1 || href.startsWith('/') || href.search("127.0.0.1:") !== -1) {
      // Assume we're an internal link, add the hub param to it
      var params = getJsonFromUrl(href);
      if (params !== false) {
        // We have REST params, so append a new one
        params['hub'] = hub;
      } else {
        // Create the REST params
        params = {'hub': hub};
      }
      // Update the link
      var newHref = href.split('?')[0] + '?' + jQuery.param(params);
      this.setAttribute('href', decodeURIComponent(newHref));
    }
  });
  return false;
}

  // Update interact links
function updateInteractLink() {
    // hack to make this work since it expects a ? in the URL
    rest = getJsonFromUrl("?" + location.search.substr(1));
    hubUrl = rest['hub'];
    if (hubUrl !== undefined) {
      // Sanitize the hubUrl
      hubUrl = safeUrl(hubUrl);
      // Add HTTP text if omitted
      if (hubUrl.indexOf('http') < 0) {hubUrl = 'http://' + hubUrl;}
      link = $("a.interact-button")[0];
      if (link !== undefined) {
          // Update the interact link URL
          var href = link.getAttribute('href');
          if ('binder' == 'binder') {
            // If binder links exist, we need to re-work them for jupyterhub
            first = [hubUrl, 'hub', 'user-redirect', 'git-sync'].join('/')
            href = first + '?' + binder2Jupyterhub(href);
          } else {
            // If JupyterHub links, we only need to replace the hub url
            href = href.replace("https://mybinder.org", hubUrl);
          }
          link.setAttribute('href', decodeURIComponent(href));

          // Add text after interact link saying where we're launching
          hubUrlNoHttp = decodeURIComponent(hubUrl).replace('http://', '').replace('https://', '');
          $("a.interact-button").after($('<div class="interact-context">on ' + hubUrlNoHttp + '</div>'));

      }
      // Update internal links so we retain the hub url
      addParamToInternalLinks(hubUrl);
    }
}

// --- Highlight the part of sidebar for current page ---

// helper to replace trailing slash
function replaceSlash(string)
{
    return string.replace(/\/$/, "");
}

// Add a class to the current page in the sidebar
function highlightSidebarCurrentPage()
{
  var currentpage = location.href;
  var links = $('.sidebar .nav__items a');
  var ii = 0;
  for(ii; ii < links.length; ii++) {
    var link = links[ii];
    if(replaceSlash(link.href) == replaceSlash(currentpage)) {
      // Add CSS for styling
      link.classList.add("current");
      // Scroll to this element
      $('div.sidebar').scrollTop(link.offsetTop - 300);
    }
  }
}

// --- Set up copy/paste for code blocks ---
function addCopyButtonToCode(){
  // get all <code> elements
  var allCodeBlocksElements = $( "div.input_area code, div.highlighter-rouge code" );

  allCodeBlocksElements.each(function(ii) {
   	// add different id for each code block

  	// target
    var currentId = "codeblock" + (ii + 1);
    $(this).attr('id', currentId);

    //trigger
    var clipButton = '<button class="btn copybtn" data-clipboard-target="#' + currentId + '"><img src="https://clipboardjs.com/assets/images/clippy.svg" width="13" alt="Copy to clipboard"></button>';
       $(this).after(clipButton);
    });

    new Clipboard('.btn');
}

// Run scripts when page is loaded
$(document).ready(function () {
  // Add anchors to H1 etc links
  anchors.add();
  // Highlight current page in sidebar
  highlightSidebarCurrentPage();
  // Add copy button to code blocks
  addCopyButtonToCode();
  // Update the Interact link if a REST param given
  updateInteractLink();
});
</script>

  </body>
</html>
